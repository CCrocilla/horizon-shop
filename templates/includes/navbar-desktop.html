{% load static %}

<header class="navbar navbar-expand-md navbar-dark d-print-none">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu">
            <span class="navbar-toggler-icon"></span>
        </button>
        <h1 class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3">
            <a class="text-decoration-none" href="{% url 'homepage' %}">
                <h1 class="fs-1 text-decoration-none text-yellow">Horizon Shop</h1>
            </a>
        </h1>

        <div class="navbar-nav flex-row order-md-last">
            <div class="nav-item d-none d-md-flex me-3">
                <div class="btn-list">
                    <a class="btn btn-dark nav-link active text-yellow" aria-current="page" href="{% url 'homepage' %}">
                        <div class="fs-6 text-center">
                            <div>
                                <i class="fas fa-home fa-lg"></i> Home
                            </div>
                        </div>
                    </a>

                    <a class="btn btn-dark nav-link text-yellow" href="{% url 'contact_us' %}">
                        <div class="fs-6 text-center">
                            <div>
                                <i class="fas fa-headset fa-lg"></i> Contact Us
                            </div>
                        </div>
                    </a>



                    <a class="{% if grand_total %}text-info font-weight-bold{% else %}text-black{% endif %} nav-link text-yellow"
                        href="{% url 'cart' %}">
                        <div class="fs-6 text-center text-yellow">
                            <div>
                                <p class="my-0">
                                    <i class="fas fa-shopping-cart fa-lg"></i>
                                    {% if grand_total %}
                                    ${{ grand_total|floatformat:2 }}
                                    {% else %}
                                    0.00 Euro
                                    {% endif %}
                                </p>
                            </div>
                        </div>
                    </a>

                </div>
            </div>
            <div class="nav-item dropdown">
                <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-bs-toggle="dropdown"
                    aria-label="Open user menu">
                    <span class="avatar bg-azure-lt"><i class="fas fa-user text-yellow fs-4"></i></span>

                    {% if user.is_authenticated %}

                    <div class="d-none d-md-block ps-2">
                        <div>
                            {% if not user.first_name %}

                            Hi, {{ user }}!

                            {% else %}

                            Hi, {{ user.first_name }}!

                            {%endif%}
                        </div>
                        <div class="mt-1 small text-muted"></div>
                    </div>

                    {% endif %}
                </a>
                <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                    {% if user.is_authenticated %}
                    <a class="dropdown-item" href="{% url 'dashboard' %}">My Horizon Shop</a>
                    <a class="dropdown-item" href="#">My Profile</a>
                    <a class="dropdown-item" href="{% url 'shipping-address-list' %}">My Addresses</a>
                    <a class="dropdown-item" href="#">My Orders</a>
                    <a class="dropdown-item" href="#">My Products</a>
                    <a class="dropdown-item" href="#">My Reviews</a>
                    <a class="dropdown-item" href="{% url 'testimonials-list' %}">My Testimonials</a>
                    <div class="dropdown-divider"></div>
                    <a href="{% url 'account_logout' %}" class="dropdown-item">Logout</a>

                    {% else %}

                    <a class="dropdown-item" href="{% url 'account_signup' %}">
                        Sign Up
                    </a>

                    <a class="dropdown-item" href="{% url 'account_login' %}">
                        Sign In
                    </a>
                    {% endif %}

                </div>
            </div>
        </div>
    </div>
</header>
<div class="navbar-expand-md">
    <div class="collapse navbar-collapse" id="navbar-menu">
        <div class="navbar navbar-dark">
            <div class="container-fluid">
                <ul class="navbar-nav">
                    <li class="nav-item d-md-none">
                        <a class="nav-link active text-yellow" aria-current="page" href="{% url 'homepage' %}">
                            <span class="nav-link-title">
                                <i class="fas fa-home fa-lg"></i> Home
                            </span>
                        </a>
                    </li>
                    <li class="nav-item d-md-none">
                        <a class="nav-link" href="{% url 'contact_us' %}">
                            <span class="nav-link-title">
                                <i class="fas fa-headset fa-lg"></i> Contact Us
                            </span>
                        </a>
                    </li>
                    <li class="nav-item active d-md-none">
                        <a class="{% if grand_total %}text-info font-weight-bold{% else %}text-black{% endif %} nav-link text-yellow"
                            href="{% url 'cart' %}">
                            <span class="nav-link-title">
                                <i class="fas fa-shopping-cart fa-lg"></i>
                                {% if grand_total %}
                                ${{ grand_total|floatformat:2 }}
                                {% else %}
                                0.00 Euro
                                {% endif %}
                            </span>
                        </a>
                    </li>
                    <a class="nav-link" href="{% url 'all_products' %}">
                        <span class="nav-link-title">
                            All Products
                        </span>
                    </a>
                    </li>
                    </li>
                    <a class="nav-link" href="{% url 'new_products' %}">
                        <span class="nav-link-title">
                            New Products
                        </span>
                    </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'used_products' %}">
                            <span class="nav-link-title">
                                Used Products
                            </span>
                            <span class="badge badge-sm bg-red">2</span>
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#navbar-third" data-bs-toggle="dropdown"
                            data-bs-auto-close="outside" role="button" aria-expanded="false">
                            <span class="nav-link-title">
                                Categories
                            </span>
                        </a>
                        <div class="dropdown-menu">

                            {% for category in categories %}

                            <a class="dropdown-item" href="{{ category.get_absolute_url }}">
                                {{ category.name }}
                            </a>

                            {% endfor %}

                        </div>
                    </li>

                </ul>
                <div class="my-2 my-md-0 flex-grow-1 flex-md-grow-0 order-first order-md-last">
                    <form action="{% url 'all_products' %}" method="GET" autocomplete="off" novalidate="">
                        <div class="input-icon border border-white">
                            <span class="input-icon-addon">
                                <!-- Download SVG icon from http://tabler-icons.io/i/search -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                                    viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <circle cx="10" cy="10" r="7"></circle>
                                    <line x1="21" y1="21" x2="15" y2="15"></line>
                                </svg>
                            </span>
                            <input type="text" name="q" class="form-control" placeholder="Search..."
                                aria-label="Search in website">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>